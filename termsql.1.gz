.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.46.4.
.TH TERMSQL "1" "November 2014" "termsql 0.3alpha" "User Commands"
.SH NAME
termsql \- manual page for termsql 0.3alpha
.SH DESCRIPTION
usage: termsql [\-h] [\-1] [\-d [DELIMITER]] [\-p [SEPARATOR]]
.IP
[\-l [LINE_AS_COLUMN]] [\-k [KEY_COLUMNS]] [\-c [COLUMNS]] [\-w]
[\-H [OFFSET_HEAD]] [\-T [OFFSET_TAIL]] [\-M [MAX_ROWS]] [\-C] [\-D]
[\-m [MODE]] [\-x] [\-a] [\-i [INFILE]] [\-o [OUTFILE]]
[\-q [QUERYFILE]] [\-t [TABLE]] [\-s [SQLITE]] [\-v]
[query]
.PP
Convert text into SQL table and query it
.SS "positional arguments:"
.TP
query
SQL Query string
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-1\fR, \fB\-\-head\fR
use first line/head(er) for column names
.TP
\fB\-d\fR [DELIMITER], \fB\-\-delimiter\fR [DELIMITER]
custom delimiter (default is whitespace)
.TP
\fB\-p\fR [SEPARATOR], \fB\-\-separator\fR [SEPARATOR]
set sqlite output field separator (default depends on
output mode. ie. for list '|' is the default and for
csv ',' is the default)
.TP
\fB\-l\fR [LINE_AS_COLUMN], \fB\-\-line\-as\-column\fR [LINE_AS_COLUMN]
each line of input is a whole column, next row begins
after n lines
.TP
\fB\-k\fR [KEY_COLUMNS], \fB\-\-key\-columns\fR [KEY_COLUMNS]
one or more columns can make up the primary key (i.e
\fB\-k\fR COL0 or \fB\-c\fR name,nick \fB\-k\fR nick)
.TP
\fB\-c\fR [COLUMNS], \fB\-\-columns\fR [COLUMNS]
set custom column names (ie. \fB\-c\fR 'name,street,age')
.TP
\fB\-w\fR, \fB\-\-whitespace\fR
use whitespace as field separator (default is |).
equal to mode tabs
.TP
\fB\-H\fR [OFFSET_HEAD], \fB\-\-offset\-head\fR [OFFSET_HEAD]
ignore first n lines of input
.TP
\fB\-T\fR [OFFSET_TAIL], \fB\-\-offset\-tail\fR [OFFSET_TAIL]
ignore last n lines of input
.TP
\fB\-M\fR [MAX_ROWS], \fB\-\-max\-rows\fR [MAX_ROWS]
don't insert more than n rows into database
.TP
\fB\-C\fR, \fB\-\-dump\-create\-table\fR
dump create table SQL
.TP
\fB\-D\fR, \fB\-\-dump\fR
dump complete SQL to create table and content
.TP
\fB\-m\fR [MODE], \fB\-\-mode\fR [MODE]
set sqlite output mode i.e.: csv, column, html,
insert, line, list, tabs, tcl (default is list)
.TP
\fB\-x\fR, \fB\-\-select\-all\fR
add final SELECT * FROM to user defined query
.TP
\fB\-a\fR, \fB\-\-append\fR
don't DROP TABLE instead just append data to existing
table. If the existing table doesn't have enough
columns it will be ALTERed accordingly, if possible
.TP
\fB\-i\fR [INFILE], \fB\-\-infile\fR [INFILE]
use file as input instead of stdin
.TP
\fB\-o\fR [OUTFILE], \fB\-\-outfile\fR [OUTFILE]
location/filename to use for sql database (by default
a tempfile is used)
.TP
\fB\-q\fR [QUERYFILE], \fB\-\-queryfile\fR [QUERYFILE]
load complex query from file, queries on the
commandline get executed last
.TP
\fB\-t\fR [TABLE], \fB\-\-table\fR [TABLE]
tablename (must be a valid sqlite tablename)
.TP
\fB\-s\fR [SQLITE], \fB\-\-sqlite\fR [SQLITE]
path to sqlite executable
.TP
\fB\-v\fR, \fB\-\-version\fR
display version information
.SS "examples:"
.IP
ps aux | termsql "select * from tbl where COL0='root' limit 5"
.IP
(outputs 5 processes that are running as root)
.IP
df | termsql \fB\-1\fR 'select Filesystem from tbl order by [1K\-blocks] desc limit 1'
.IP
(return the largest device)
.IP
cat \fI\,/proc/cpuinfo\/\fP | termsql "select COL2 from tbl where COL0='bogomips'"
.IP
(how many bogomips does your system have?)
.IP
termsql \fB\-\-infile\fR \fI\,/etc/group\/\fP \fB\-d\fR ':' "select COL0 from tbl"
.IP
(read from file, use : as delimiter, shows all groups in \fI\,/etc/group\/\fP)
.IP
termsql \fB\-i\fR MyCSVFile.CSV \fB\-t\fR fancytable \fB\-d\fR ',' \fB\-1\fR \fB\-o\fR mysqlite.db
.IP
(creates a new sqlite database from a CSV file. \fB\-d\fR ',' tells termsql to use commata as delimiter. \fB\-1\fR tells termsql that the first line of the CSV file is not data and instead the column names and termsql creates database columns with those names accordingly. \fB\-t\fR fancytable sets the tablename to fancytable)
.IP
sensors | termsql "select COL2 from tbl where COL0='Core'"
.IP
(extract the temperature from all your CPU cores)
.IP
export LC_ALL=en_US;
top \fB\-b\fR | head | termsql \fB\-1\fR \fB\-H\fR 6 "select [PID],[USER],[COMMAND],[%CPU] from tbl where [%CPU]>=25"
.IP
(termsql doesn't recognize numbers like "25,3" as numbers, but as strings. export LC_ALL=en_US ensures that top outputs numbers that are easy for termsql/sqlite to digest (ie. "25.3"). \fB\-H\fR 6 makes termsql disregard the first 6 lines. We select only the processes with more than 25% cpu usage and output their PID,USER,COMMAND and %CPU.)
.IP
export DISPLAY=$(ps aux | termsql "select COL11 from tbl where COL10 like '%Xorg.bin%' limit 1")
.IP
(set DISPLAY environment variable to what display X is running on right now, assuming that the X binary is called "Xorg.bin")
